{% extends "admin/layout.njk" %}

{%block contentAdmin%}

    <div class="admin-content">
        <form method="POST" action="/admin/recipes?_method=PUT">
            <div class="presentation">
                <h1>Editando receita</h1>
                <button type="submit">Salvar</button>
            </div>
            <main>
                <div class="item">
                    <div>Foto da receita</div>
                    <div>
                        <input type="URL" name="image" value="{{recipe.image}}">
                    </div>
                </div>
                <div class="item">
                    <div>Título</div>
                    <div>
                        <input type="text" name="title" value="{{recipe.title}}">
                    </div>
                </div>
                <div class="item">
                    <div>Autor</div>
                    <div>
                        <input type="text" name="author" value="{{recipe.author}}">
                    </div>
                </div>
                <div class="item">
                    <div>Ingredientes</div>
                    <div id="ingredients">
                        <div class="ingredient">
                            {% for ingrediente in recipe.ingredients %}
                                <input type="text" name="ingredients[]" value="{{ingrediente}}">
                            {% endfor %}
                        </div>
                    </div>
                    <a class="add-button ingredients">Adicionar novo ingrediente</a>
                </div>
                <div class="item">
                    <div>Modo de preparo</div>
                    <div id="steps">
                        <div class="step">
                            {% for step in recipe.preparation %}
                                <input type="text" name="preparation[]" value="{{step}}">
                            {% endfor %}
                        </div>
                    </div>
                    <a class="add-button steps">Adicionar novo passo</a>
                </div>
                <div class="item">
                    <div>informações adicionais</div>
                    <div>
                        <textarea name="information" cols="30" rows="10">
                            {{recipe.information}}
                        </textarea>
                    </div>
                </div>
                <input type="hidden" name="id" value={{recipe.id}}>
            </main>
        </form>
        <form method="POST" id="form-delete" action="/admin/recipes?_method=DELETE">
            <input type="hidden" name="id" value={{recipe.id}}>
            <button type="submit">Deletar</button>
        </form>
    </div>
    <script src='/scripts.js'></script>
{% endblock %}